<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WUGUMA AI - Renungan Kontekstual Papua</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700&family=Lora:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .font-serif { font-family: 'Lora', serif; }
        .glass-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(16, 185, 129, 0.1);
        }
        .bg-noise {
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            opacity: 0.02;
            pointer-events: none;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 transition-colors duration-500">
    <div id="root"></div>

    <!-- React and Babel for browser compilation -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Mock AI Service ---
        const generateDevotionAI = async (topic, lang) => {
            await new Promise(r => setTimeout(r, 1500));
            const isMoni = lang === 'moni';
            return {
                judul: isMoni ? `Hau Me: ${topic}` : `Renungan: ${topic}`,
                ayatUtama: isMoni ? "Yohanes 3:16 (Moni)" : "Yohanes 3:16",
                isiRenungan: `Di tengah pergumulan mengenai ${topic || 'kehidupan'}, Tuhan mengingatkan kita bahwa seperti pegunungan di Papua yang berdiri teguh, demikianlah janji-Nya. Wuguma (berjalan bersama) berarti kita tidak pernah melangkah sendirian.`,
                isiRenunganIndo: isMoni ? "Tuhan adalah kekuatan kita. Seperti persaudaraan yang erat di Honai, kasih Kristus menyatukan kita semua." : null,
                wugumaMoment: {
                    pesan: "Aku menyertai langkahmu sampai kesudahan zaman.",
                    langkah: "Sapa satu orang hari ini dengan kasih Kristus.",
                    hati: "Tetaplah bersyukur dalam segala keadaan."
                },
                doa: "Tuhan Yesus, pimpinlah langkah kami agar selalu sesuai dengan kehendak-Mu. Amin.",
                ayatPegangan: "Filipi 4:13"
            };
        };

        const App = () => {
            const [page, setPage] = useState('home');
            const [loading, setLoading] = useState(false);
            const [result, setResult] = useState(null);
            const [darkMode, setDarkMode] = useState(false);

            useEffect(() => {
                lucide.createIcons();
            }, [page, loading, result]);

            const startGenerating = async (topic, lang) => {
                setLoading(true);
                const data = await generateDevotionAI(topic, lang);
                setResult(data);
                setLoading(false);
                setPage('output');
            };

            return (
                <div className={`${darkMode ? 'bg-slate-950 text-white' : ''} min-h-screen relative overflow-x-hidden`}>
                    <div className="bg-noise fixed inset-0 z-50"></div>
                    
                    {/* Header */}
                    <nav className={`sticky top-0 z-40 border-b backdrop-blur-md ${darkMode ? 'bg-slate-900/80 border-slate-800' : 'bg-white/80 border-emerald-100'}`}>
                        <div className="max-w-5xl mx-auto px-6 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-2 cursor-pointer" onClick={() => setPage('home')}>
                                <div className="bg-emerald-600 p-1.5 rounded-lg shadow-lg shadow-emerald-600/20">
                                    <i data-lucide="book-open" class="text-white w-5 h-5"></i>
                                </div>
                                <span className="font-serif font-bold text-xl tracking-tight text-emerald-600">WUGUMA AI</span>
                            </div>
                            <button onClick={() => setDarkMode(!darkMode)} className="p-2 rounded-full hover:bg-emerald-50 text-emerald-600 transition-colors">
                                <i data-lucide={darkMode ? "sun" : "moon"}></i>
                            </button>
                        </div>
                    </nav>

                    {/* Content */}
                    <main className="relative z-10">
                        {loading && (
                            <div className="fixed inset-0 z-[60] flex items-center justify-center bg-white/90 backdrop-blur-sm">
                                <div className="text-center">
                                    <div className="w-12 h-12 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
                                    <p className="font-serif italic text-emerald-800">Menyusun Hikmat Firman...</p>
                                </div>
                            </div>
                        )}

                        {page === 'home' && (
                            <div className="max-w-4xl mx-auto px-6 py-16 md:py-28 text-center animate-in fade-in slide-in-from-bottom-4 duration-700">
                                <div className="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-emerald-100 text-emerald-800 text-xs font-bold uppercase tracking-widest mb-8">
                                    <i data-lucide="sparkles" class="w-3 h-3"></i> Teologi Kontekstual Papua
                                </div>
                                <h1 className="text-4xl md:text-6xl font-serif font-bold mb-6 leading-tight">
                                    Mendengar Suara Tuhan dalam <span className="text-emerald-600">Bahasa Hati</span>
                                </h1>
                                <p className="text-lg text-slate-500 max-w-2xl mx-auto mb-12 leading-relaxed">
                                    Wuguma AI menggabungkan kedalaman Alkitab Bahasa Moni dan Indonesia untuk membimbing setiap langkah hidup Anda.
                                </p>
                                <button 
                                    onClick={() => setPage('generator')}
                                    className="bg-emerald-600 hover:bg-emerald-700 text-white px-10 py-4 rounded-2xl font-bold text-lg shadow-xl shadow-emerald-600/20 hover:scale-105 transition-all flex items-center gap-3 mx-auto"
                                >
                                    Mulai Renungan <i data-lucide="chevron-right"></i>
                                </button>
                            </div>
                        )}

                        {page === 'generator' && (
                            <div className="max-w-2xl mx-auto px-6 py-12 animate-in fade-in duration-500">
                                <h2 className="text-3xl font-serif font-bold mb-8">Siapkan Hati</h2>
                                <div className="space-y-8">
                                    <div className="space-y-3">
                                        <label className="text-sm font-bold uppercase text-emerald-800 tracking-wider">Pilih Bahasa</label>
                                        <div className="grid grid-cols-2 gap-4">
                                            <button className="p-4 rounded-xl border-2 border-emerald-600 bg-emerald-50 text-emerald-700 font-bold">Indonesia</button>
                                            <button className="p-4 rounded-xl border-2 border-slate-100 text-slate-400 font-bold hover:border-emerald-200">Moni (Papua)</button>
                                        </div>
                                    </div>
                                    <div className="space-y-3">
                                        <label className="text-sm font-bold uppercase text-emerald-800 tracking-wider">Apa pergumulan Anda?</label>
                                        <textarea 
                                            id="topic-input"
                                            className="w-full p-6 rounded-2xl border-2 border-slate-100 focus:border-emerald-500 outline-none min-h-[120px] shadow-inner text-lg"
                                            placeholder="Contoh: Kesabaran dalam bekerja..."
                                        ></textarea>
                                    </div>
                                    <button 
                                        onClick={() => startGenerating(document.getElementById('topic-input').value, 'id')}
                                        className="w-full py-5 bg-emerald-600 text-white rounded-2xl font-bold text-xl shadow-lg hover:bg-emerald-700 transition-all flex items-center justify-center gap-3"
                                    >
                                        Hasilkan Renungan <i data-lucide="sparkles"></i>
                                    </button>
                                </div>
                            </div>
                        )}

                        {page === 'output' && result && (
                            <div className="max-w-3xl mx-auto px-6 py-12 animate-in zoom-in-95 duration-500">
                                <button onClick={() => setPage('generator')} className="mb-6 flex items-center gap-2 text-slate-500 hover:text-emerald-700 font-medium">
                                    <i data-lucide="arrow-left" class="w-4 h-4"></i> Kembali
                                </button>
                                <div className="glass-card rounded-[2.5rem] overflow-hidden shadow-2xl border-emerald-100">
                                    <div className="bg-emerald-600 p-10 text-white text-center">
                                        <h2 className="text-3xl font-serif font-bold mb-3">{result.judul}</h2>
                                        <p className="bg-emerald-500/50 inline-block px-4 py-1 rounded-full text-sm font-bold backdrop-blur-sm tracking-wide">
                                            {result.ayatUtama}
                                        </p>
                                    </div>
                                    <div className="p-8 md:p-12 space-y-12">
                                        <p className="text-xl font-serif leading-relaxed italic text-slate-700 text-center">
                                            "{result.isiRenungan}"
                                        </p>

                                        <div className="grid md:grid-cols-3 gap-4">
                                            <div className="bg-emerald-50/50 p-6 rounded-3xl border border-emerald-100">
                                                <h4 className="text-emerald-800 font-bold text-xs uppercase mb-2 tracking-widest">Pesan Tuhan</h4>
                                                <p className="text-sm leading-relaxed">{result.wugumaMoment.pesan}</p>
                                            </div>
                                            <div className="bg-orange-50/50 p-6 rounded-3xl border border-orange-100">
                                                <h4 className="text-orange-800 font-bold text-xs uppercase mb-2 tracking-widest">Arah Langkah</h4>
                                                <p className="text-sm leading-relaxed">{result.wugumaMoment.langkah}</p>
                                            </div>
                                            <div className="bg-blue-50/50 p-6 rounded-3xl border border-blue-100">
                                                <h4 className="text-blue-800 font-bold text-xs uppercase mb-2 tracking-widest">Sikap Hati</h4>
                                                <p className="text-sm leading-relaxed">{result.wugumaMoment.hati}</p>
                                            </div>
                                        </div>

                                        <div className="pt-8 border-t border-slate-100">
                                            <h4 className="text-center font-bold text-slate-400 text-xs uppercase mb-4 tracking-widest italic">Doa Hari Ini</h4>
                                            <p className="text-center italic text-lg text-slate-600">"{result.doa}"</p>
                                        </div>
                                        
                                        <div className="flex flex-col sm:flex-row gap-4 pt-4">
                                            <button className="flex-1 bg-slate-100 text-slate-700 py-4 rounded-2xl font-bold hover:bg-slate-200 transition-all flex items-center justify-center gap-2">
                                                <i data-lucide="copy" class="w-4 h-4"></i> Salin
                                            </button>
                                            <button onClick={() => setPage('generator')} className="flex-1 bg-emerald-600 text-white py-4 rounded-2xl font-bold shadow-lg shadow-emerald-600/20 hover:bg-emerald-700 transition-all flex items-center justify-center gap-2">
                                                <i data-lucide="refresh-cw" class="w-4 h-4"></i> Renungan Baru
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </main>

                    <footer className="py-12 border-t mt-12 bg-white text-center">
                        <p className="font-serif italic text-slate-400">"Wuguma: Berjalan bersama di Tanah Papua"</p>
                        <p className="text-[10px] uppercase tracking-[0.2em] mt-2 text-slate-300">Â© 2024 Wuguma AI Project</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

